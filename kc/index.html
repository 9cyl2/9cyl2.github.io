<!DOCTYPE html>
<html lang="zh-CN">
<head>
<meta charset="UTF-8" />
<title>æ–‡ä»¶åˆ—è¡¨ / File List</title>
<style>
  body{font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto,"Helvetica Neue",Arial,"Noto Sans",sans-serif;margin:2rem;background:#f7f7f7;color:#333}
  h1{text-align:center;margin-bottom:1.5rem}
  ul{max-width:600px;margin:0 auto;padding:0;list-style:none}
  li{margin:.5rem 0}
  a{display:block;padding:.75rem 1rem;background:#fff;border:1px solid #e5e5e5;border-radius:6px;color:#0366d6;text-decoration:none;transition:transform .15s}
  a:hover{transform:translateY(-2px);box-shadow:0 4px 8px rgba(0,0,0,.05)}
</style>
</head>
<body>
  <h1>ğŸ“ æ–‡ä»¶åˆ—è¡¨ / File List</h1>
  <ul id="fileList">åŠ è½½ä¸­â€¦â€¦</ul>

<script>
/* GitHub Pages æ²¡æœ‰æœåŠ¡å™¨ç«¯è„šæœ¬ï¼Œè¿™é‡Œç”¨ GitHub REST API è¯»å–ç›®å½•å†…å®¹ */
const owner   = '9cyl2';           // ä½ çš„ GitHub ç”¨æˆ·å
const repo    = '9cyl2.github.io'; // ä»“åº“å
const ref     = 'main';            // åˆ†æ”¯
const folder  = location.pathname.replace(/\/$/, '').split('/').pop() || ''; // å½“å‰æ–‡ä»¶å¤¹å
const apiUrl  = `https://api.github.com/repos/${owner}/${repo}/contents/${folder}?ref=${ref}`;

fetch(apiUrl)
  .then(r => r.json())
  .then(data => {
    const list = document.getElementById('fileList');
    list.innerHTML = '';
    if (!Array.isArray(data)) { list.innerHTML = '<li>è¯»å–å¤±è´¥</li>'; return; }
    data
      .filter(item => item.name.toLowerCase() !== 'index.html') // æ’é™¤è‡ªå·±
      .sort((a,b)=>a.type.localeCompare(b.type) || a.name.localeCompare(b.name))
      .forEach(item => {
        const li = document.createElement('li');
        const link = document.createElement('a');
        link.href   = item.name + (item.type === 'dir' ? '/' : '');
        link.textContent = item.name;
        li.appendChild(link);
        list.appendChild(li);
      });
  })
  .catch(() => {
    document.getElementById('fileList').innerHTML = '<li>åŠ è½½å¤±è´¥ï¼Œè¯·åˆ·æ–°é‡è¯•</li>';
  });
</script>
</body>
</html>
